"use strict";jQuery((function(e){e(".natHistoryTable").livequery((function(){var n=e(this);function a(){var a=n.find("[name=rev1]:checked"),t=n.find("[name=rev2]:checked"),i=parseInt(a.val(),10),r=parseInt(t.val(),10);n.find("tr").removeClass("foswikiSelected"),a.parent().parent().addClass("foswikiSelected"),t.parent().parent().addClass("foswikiSelected"),n.find(".natHistoryRadio").prop("disabled",!0).each((function(){var n=e(this),a=n.attr("name"),t=parseInt(n.val(),10);t>0&&("rev2"===a&&t>i||"rev1"===a&&t<r)&&n.prop("disabled",!1)}))}a(),n.find("input[name=rev1]:first").prop("disabled",!0).attr("value","0"),n.find("input[name=rev2]:last").prop("disabled",!0).attr("value","0"),n.find(".natHistoryRadio").on("change",a),n.find(".natHistoryNavi").on("click",(function(){var a=e(this),t=e.extend({topic:foswiki.getPreference("WEB")+"/"+foswiki.getPreference("TOPIC"),name:"history",expand:"revtable",render:"on"},a.data());return a.is(".natDisabledTopicAction")||(e.blockUI({message:""}),n.load(foswiki.getPreference("SCRIPTURL")+"/rest/RenderPlugin/template",t,(function(){e.unblockUI()}))),!1}))}))}));
