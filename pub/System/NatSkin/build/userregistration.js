"use strict";(function($){var digits=/\d/,specials=new RegExp('[~!@#$%^&*_+=?><,;:."ยง/{}()]'),upper=new RegExp("["+foswiki.RE.upper+"]"),lower=new RegExp("["+foswiki.RE.lower+"]"),defaults={minLength:8,digits:!0,lower:!0,upper:!0,special:!0};$.validator.addMethod("pwcheck_digits",(function(e){return digits.test(e)})),$.validator.addMethod("pwcheck_lower",(function(e){return lower.test(e)})),$.validator.addMethod("pwcheck_upper",(function(e){return upper.test(e)})),$.validator.addMethod("pwcheck_special",(function(e){return specials.test(e)})),$.validator.addMethod("loginName",(function(e){return!specials.test(e)}),"Invalid login name"),$((function(){$("#Fwk1WikiName").wikiword({source:"#Fwk1FirstName, #Fwk1LastName",transliterate:!0}),$("#registrationForm").livequery((function(){var $this=$(this),opts=$.extend({},defaults,$this.data()),messages;eval("messages="+$this.children("#messages").text()),$this.validate({rules:{Fwk1FirstName:"required",Fwk1LastName:"required",Fwk1WikiName:{required:!0,wikiword:!0,remote:foswiki.getScriptUrlPath("rest","RenderPlugin","template",{name:"UserRegistrationView",expand:"checkWikiName",topic:foswiki.getPreference("WEB")+"."+foswiki.getPreference("TOPIC"),cachecontrol:0})},Fwk1Email:{required:!0,email:!0},Fwk1LoginName:{required:!0,minlength:2,loginName:!0,remote:foswiki.getScriptUrlPath("rest","RenderPlugin","template",{name:"UserRegistrationView",expand:"checkLoginName",topic:foswiki.getPreference("WEB")+"."+foswiki.getPreference("TOPIC"),cachecontrol:0})},Fwk1Password:{required:!0,pwcheck_digits:opts.digits,pwcheck_upper:opts.upper,pwcheck_lower:opts.lower,pwcheck_special:opts.special,minlength:opts.minLength},Fwk1Confirm:{required:!0,equalTo:"#Fwk1Password"}},messages:messages})}))}))})(jQuery);
