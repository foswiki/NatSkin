"use strict";!function(e){var t={cookieTimeoutDays:30,cookieName:"FOSWIKIDARKMODE",darkModeButton:".natDarkModeButton"};function o(o){var r=this;r.opts=e.extend({},t,o),r.isActive=!1,r.init()}o.prototype.init=function(){var t=this;t.setMode(t.getPreference()),e(document).on("click",t.opts.darkModeButton,(function(){return t.toggle(),!1}))},o.prototype.getPreference=function(){if("none"===e("html").data("theme"))return"none";switch(e.cookie(this.opts.cookieName)){case"true":return!0;case"false":return!1;default:return this.getSystemPreference()}},o.prototype.getSystemPreference=function(){return window.matchMedia("(prefers-color-scheme: dark)").matches},o.prototype.toggle=function(){var t=this;t.setMode(!t.isActive),e.cookie(t.opts.cookieName,String(t.isActive),{path:"/",expires:t.opts.cookieTimeoutDays,secure:!0,samesite:"strict"})},o.prototype.setMode=function(t){var o=this;"none"!==t&&(o.isActive=t,e("html").attr({"data-theme":t?"dark":"light"}),"false"!==t?e(o.opts.darkModeButton).addClass("natDarkModeActive"):e(o.opts.darkModeButton).removeClass("natDarkModeActive"))},window.darkMode=new o}(jQuery);
